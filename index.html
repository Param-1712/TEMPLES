<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Temple Portal</title>
<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  body, html { height:100%; font-family:'Segoe UI',sans-serif; color:white; overflow-x:hidden; }

  .slideshow-container {
    position:fixed; top:0; left:0; width:100%; height:100%; overflow:hidden; z-index:-1;
  }
  .slideshow-container img {
    position:absolute; width:110%; height:100%;
    object-fit:cover; opacity:0;
    transition:opacity 1s ease-in-out, transform 10s linear;
  }
  .slideshow-container img.active { opacity:1; transform:translateX(-5%); }

  nav {
    width:100%; background:rgba(0,0,0,0.6); display:flex; justify-content:center;
    padding:15px 0; position:fixed; top:0; z-index:2;
  }
  nav ul { list-style:none; display:flex; }
  nav li { margin:0 20px; cursor:pointer; }
  nav a { color:white; text-decoration:none; font-size:1em; transition:color 0.3s; }
  nav a:hover { color:#FFD700; }

  .dropdown-panel {
    display:none; position:fixed; top:60px; left:50%; transform:translateX(-50%);
    background:rgba(0,0,0,0.85); padding:20px; border-radius:10px; z-index:3;
    max-height:70%; overflow-y:auto;
  }

  .logo-temple-list {
    display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:15px;
  }
  .logo-temple-item {
    background:rgba(255,255,255,0.1); padding:10px; border-radius:8px; text-align:center;
  }
  .logo-temple-item p { margin-bottom:8px; color:#FFD700; }
  .logo-temple-item button {
    padding:5px 10px; background:darkred; color:white; border:none; border-radius:4px; cursor:pointer;
  }
  .logo-temple-item button:hover { background:crimson; }
  .logo-temple-item img {
    width:60px; height:60px; margin-bottom:8px;
  }

  .center-content {
    position:relative; top:120px; text-align:center; width:100%; padding:0 20px; z-index:1;
  }
  h1 { font-size:2.2em; margin-bottom:10px; text-shadow:1px 1px 4px rgba(0,0,0,0.8); }
  .temple-name { font-size:1.5em; color:#FFD700; margin-bottom:30px; height:1.5em; text-shadow:1px 1px 4px rgba(0,0,0,0.8); }

  .login-box {
    background:rgba(0,0,0,0.7); padding:25px; border-radius:10px; width:280px; margin:auto; box-shadow:0 0 10px rgba(0,0,0,0.5);
  }
  .login-box input {
    width:90%; margin:8px 0; padding:8px; border:none; border-radius:4px;
  }
  .login-box button {
    margin-top:10px; padding:8px 15px; border:none; background:darkred; color:white; cursor:pointer; border-radius:4px; width:100%;
  }
  .login-box button:hover { background:crimson; }
  .register-link { margin-top:10px; font-size:0.9em; }
  .register-link a { color:#FFD700; text-decoration:none; cursor:pointer; }
  .register-link a:hover { text-decoration:underline; }

  footer {
    position:fixed; bottom:0; width:100%; background:rgba(0,0,0,0.6); text-align:center;
    padding:10px 0; font-size:0.9em; z-index:1;
  }
</style>
</head>
<body>

<div class="slideshow-container">
  <img src="temple3.png" class="active" alt="Temple 1">
  <img src="temple4.png" alt="Temple 2">
  <img src="temple5.png" alt="Temple 3">
  <img src="temple6.png" alt="Temple 4">
</div>

<nav>
  <ul>
    <li onclick="checkLoginAndToggle('templesPanel')"><a>Temples</a></li>
    <li onclick="checkLoginAndToggle('sevasPanel')"><a>Sevas & Darshanam</a></li>
    <li onclick="checkLoginAndGo('accommodation.html')"><a>Accommodation</a></li>
    <li onclick="checkLoginAndGo('donations.html')"><a>Donations</a></li>
  </ul>
</nav>

<div class="dropdown-panel" id="templesPanel">
  <div class="logo-temple-list">
    <div class="logo-temple-item">
      <img src="shivaling.png" alt="Shivaling">
      <p>KANIPAKAM VINAYAKA TEMPLE</p>
      <button>Visit</button>
    </div>
    <div class="logo-temple-item">
      <img src="goddess.png" alt="Goddess">
      <p>KANAKA DURGA TEMPLE</p>
      <button>Visit</button>
    </div>
  </div>
</div>

<div class="dropdown-panel" id="sevasPanel">
  <div class="logo-temple-list">
    <div class="logo-temple-item"><p>Pratyaksha Seva</p><button>Select</button></div>
    <div class="logo-temple-item"><p>Paroksha Seva</p><button>Select</button></div>
    <div class="logo-temple-item"><p>Darshanam</p><button>Select</button></div>
  </div>
</div>

<div class="center-content">
  <h1>WELCOME TO</h1>
  <div class="temple-name" id="templeName">KANIPAKAM VINAYAKA TEMPLE</div>
  <div class="login-box" id="loginBox">
    <input type="text" placeholder="Username" id="username">
    <input type="password" placeholder="Password" id="password">
    <button onclick="login()">Login</button>
    <div class="register-link"><a onclick="goToRegister()">New user? Register</a></div>
  </div>
</div>

<footer>Customer Support | Privacy Policy | Terms & Conditions</footer>

<script>
  const templeNames = [
    "KANIPAKAM VINAYAKA TEMPLE",
    "KANAKA DURGA TEMPLE",
    "SIMHACHALAM TEMPLE",
    "SRI KALAHASTHI TEMPLE",
    "SRISAILAM TEMPLE",
    "TIRUMALA TIRUPATHI TEMPLE"
  ];
  let templeIndex = 0;
  setInterval(() => {
    templeIndex = (templeIndex+1)%templeNames.length;
    document.getElementById('templeName').textContent = templeNames[templeIndex];
  }, 3000);

  const images = document.querySelectorAll('.slideshow-container img');
  let imgIndex = 0;
  setInterval(() => {
    images[imgIndex].classList.remove('active');
    imgIndex = (imgIndex+1)%images.length;
    images[imgIndex].classList.add('active');
  }, 4000);

  let isLoggedIn = false;

  function login(){
    const user = document.getElementById('username').value;
    const pass = document.getElementById('password').value;
    if(user && pass){
      isLoggedIn = true;   // ✅ mark user as logged in
      window.location.href = 'loggedin.html';  // ✅ redirect
    } else {
      alert('Please enter username & password');
    }
  }

  function goToRegister(){
    window.location.href = 'register.html';
  }

  function checkLoginAndGo(url){
    if(isLoggedIn){
      window.location.href = url;
    } else {
      window.location.href = 'login.html';
    }
  }

  function checkLoginAndToggle(panelId){
    if(isLoggedIn){
      togglePanel(panelId);
    } else {
      window.location.href = 'login.html';
    }
  }

  function togglePanel(id){
    const panel = document.getElementById(id);
    const allPanels = document.querySelectorAll('.dropdown-panel');
    allPanels.forEach(p => { if(p !== panel) p.style.display='none'; });
    panel.style.display = panel.style.display==='block' ? 'none' : 'block';
  }

  document.addEventListener('click', function(e){
    if(!e.target.closest('nav') && !e.target.closest('.dropdown-panel')){
      document.querySelectorAll('.dropdown-panel').forEach(p => p.style.display='none');
    }
  });
</script>
</body>
</html>
